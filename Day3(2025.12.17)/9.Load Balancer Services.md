# Chapter5. Expose non-HTTP/SNI applications

## 5-1. Load Balancer Services

### L7(HTTP/HTTPS) 가 아닌 expose 는 어떻게 할까? 

ROUTER나 INGRESS는 L7 프록시 이기 때문에, L7 (HTTP/HTTPS) 프로토콜만 라우팅해서 웹으로 EXPOSE 가능하다.  
L4(TCP/UDP) 프로토콜을 사용하는 서비스는 클러스터 내부의 cluster ip로는 외부 접근이 불가능하다.
외부에서 접근하려면 따로 ip와 port가 필요하다.

### L4 서비스 expose 방법
openshift에서 사용가능한 방법은 NodePort, LoadBalancer, TCP Gateway 의 방법이 있다.
NodePort는 사용가능한 포트에 제한이 있는 편이다.

- NodePort: 노드IP + 포트(30000~32767)  
- LoadBalancer: 외부 IP + 포트 ( 포트 제한 거의 없음, 클라우드 환경은 자동 프로비저닝 가능 )
    ( 단, 온프레미스 환경에서는 MetalLB등을 사용해서 LoadBalancer를 따로 구현해야 한다. )
- TCP Gateway: OpenShift Router에서 TCP passthrough 가능 (TLS 기반)  


